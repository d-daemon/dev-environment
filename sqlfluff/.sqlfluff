# SQLFluff configuration file
# SQLFluff version: 3.4.0
[sqlfluff]
verbose = 3
nocolor = False
dialect = bigquery
templater = jinja
sql_file_exts = ".sql,.sql.j2,.dml,.ddl,.bqsql"
processes = -1
max_line_lenght = 120
recursive = False

# Exclude rules
# L031: Avoid table aliases in from clauses and join conditions
# RF01: References cannot reference objects not present in FROM clause
# RF02: References should be qualified if select has more than one referenced table/view
# ST01: Do not specify else null in a case when statement (redundant)
# L034: Select wildcards then simple targets before calculations and aggregates.
# L036: [layout.select_targets] Select targets should be on a new line unless thereis only one select target

exclude_rules = L031, RF01, RF02, ST01, L034, L036

[sqlfluff:indentation]
indent_unit = space
tab_space_size = 4
indented_joins = False
indented_ctes = False
indented_using_on = True
indented_on_contents = True
indented_then = True
indented_then_contents = True
allow_implicit_indents = False
template_blocks_indent = True
ignore_comment_lines = True

[sqlfluff:layout:type:alias_expression]
spacing_before = align
align_within = statement
align_scope = file

[sqlfluff:rules:capitalisation.literals]
capitalisation_policy = upper

[sqlfluff:rules:capitalisation.keywords]
capitalisation_policy = upper

[sqlfluff:rules:convention.terminator]
multiline_newline = False
require_final_semicolon = True

[sqlfluff:rules:layout.long_lines]
ignore_comment_lines = True
ignore_comment_clauses = True

[sqlfluff:rules:layout.select_targets]
wildcard_policy = multiple

[sqlfluff:layout:type:select_clause]
line_position = alone:strict

[sqlfluff:layout:type:where_clause]
line_position = alone:strict
keyword_line_position = leading

[sqlfluff:layout:type:from_clause]
line_position = alone:strict

[sqlfluff:layout:type:join_clause]
line_position = alone:strict

[sqlfluff:layout:type:groupby_clause]
line_position = alone:strict
keyword_line_position = leading

[sqlfluff:layout:type:having_clause]
line_position = alone
keyword_line_position = leading
